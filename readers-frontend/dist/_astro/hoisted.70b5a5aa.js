import"https://code.iconify.design/3/3.1.0/iconify.min.js";import"./MobileNavbar.astro_astro_type_script_index_0_lang.e754241f.js";class p extends HTMLElement{constructor(){super();const l=this.dataset.articleId||"0",r=parseInt(this.dataset.articleId||"0"),a=document.cookie.split(";"),o="readArticles=",n="readArticlesExpires=",s=[];let e=new Date;e.setUTCDate(e.getUTCDate()+7),e.setUTCMilliseconds(0),e.setUTCSeconds(0),e.setUTCMinutes(0),e.setUTCHours(0);for(let t=0;t<a.length;t++){const i=a[t];if(i.includes(o)){const d=i.substring(o.length+1);s.push(...d.split(",").map(c=>parseInt(c)).filter(c=>!isNaN(c)))}i.includes(n)&&(e=i.substring(n.length+1))}if(!s.includes(r)){s.push(r);const t=new FormData;t.append("articleId",l),fetch("/api/registerRead.php",{method:"POST",body:t})}e=e instanceof Date?e.toUTCString():e,document.cookie=`${o}${s.join(",")};expires=${e};path=/`,document.cookie=`${n}${e};expires=${e};path=/`}}customElements.define("article-cookie-manager",p);
