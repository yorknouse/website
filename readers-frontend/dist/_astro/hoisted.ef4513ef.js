import"https://code.iconify.design/3/3.1.0/iconify.min.js";import"./MobileNavbar.astro_astro_type_script_index_0_lang.e754241f.js";class n extends HTMLElement{scrollCategories;assignedStyle="nouse";desktopNav;mobileHeader;mobileNouseLogo;sections;observer=new IntersectionObserver(()=>{});constructor(){super(),this.scrollCategories=new Map(JSON.parse(this.dataset.categories||"[]")),(this.dataset.style==="muse"||this.dataset.style==="nouse")&&(this.assignedStyle=this.dataset.style),this.desktopNav=document.querySelector("#desktopNav"),this.mobileHeader=document.querySelector("#mobileHeader"),this.mobileNouseLogo=document.querySelector("#mobileHeader img"),this.sections=document.querySelectorAll("[id$=section]"),this.observe(),this.registerResizeListener()}registerResizeListener(){window.addEventListener("resize",t=>{this.observe()})}observe(){const t=window.innerWidth<=768,o=parseInt(getComputedStyle(document.documentElement).fontSize),s=window.innerHeight-3*o,e=window.innerHeight-7*o;this.observer.disconnect();const i={rootMargin:`0px 0px -${t?e:s}px 0px`};this.observer=new IntersectionObserver(this.changeNavbarColour,i),this.sections&&(this.sections.forEach(r=>{this.observer.observe(r)}),this.sections[0].parentElement&&this.sections[0].parentElement.previousElementSibling&&this.observer.observe(this.sections[0].parentElement.previousElementSibling))}changeNavbarColour=(t,o)=>{t.forEach(s=>{const e=s.target.getAttribute("id")||"";s.isIntersecting&&this.desktopNav&&this.mobileHeader&&this.mobileNouseLogo&&(e.includes("-section")?(this.desktopNav.style.setProperty("--computedBaseColour",this.scrollCategories.get(e.replace("-section",""))||"#000"),this.mobileHeader.style.setProperty("--computedBaseColour",this.scrollCategories.get(e.replace("-section",""))||"#000"),this.assignedStyle==="nouse"&&(this.mobileHeader.classList.remove("text-black"),this.mobileHeader.classList.add("text-white"),this.mobileNouseLogo.classList.add("invert"))):(this.desktopNav.style.setProperty("--computedBaseColour","#000"),this.assignedStyle==="nouse"?(this.mobileHeader.classList.remove("text-white"),this.mobileNouseLogo.classList.remove("invert"),this.mobileHeader.classList.add("text-black"),this.mobileHeader.style.setProperty("--computedBaseColour","#F5EFEB")):this.mobileHeader.style.setProperty("--computedBaseColour","#000")))})}}customElements.define("navbar-controller",n);
