name: Prisma Validate
permissions:
  contents: read
on: 
    pull_request:
    workflow_dispatch:
    push:
jobs:
  validate:
    name: Prisma Validate Check
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Install edit-backend deps
        working-directory: edit-backend
        run: npm ci

      - name: Run Validate check on edit-backend
        working-directory: edit-backend
        # I am aware this won't connect to a db but this is to appease the validator
        run: DATABASE_URL=mysql://localhost:3306/nouse npx prisma validate
